---
title: 'Get Organization Details'
description: 'Retrieve authentication URLs, organization settings, and credentials'
api: 'GET https://api.authiqa.com/auth/organization-details'
---

## Overview

This endpoint retrieves comprehensive organization details including authentication URLs, domain restrictions, email verification settings, Google SSO configuration, and credentials. Supports both JWT and public key authentication.

## API Details

### Authentication

<ParamField header="Authorization" type="string">
  Bearer JWT token for authentication
</ParamField>

<ParamField header="X-public-Key" type="string">
  Your public key for authentication (alternative to JWT)
</ParamField>

<Note>
Either JWT token OR public key authentication is required. JWT authentication is preferred when available.
</Note>

<RequestExample>
```bash cURL - JWT Authentication
curl -X GET https://api.authiqa.com/auth/organization-details \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json"
```

```bash cURL - Public Key Authentication
curl -X GET https://api.authiqa.com/auth/organization-details \
  -H "X-Public-Key: YOUR_PUBLIC_KEY" \
  -H "Content-Type: application/json"
```

```javascript JavaScript - JWT Authentication
const response = await fetch('https://api.authiqa.com/auth/organization-details', {
  method: 'GET',
  headers: {
    'Authorization': 'Bearer YOUR_JWT_TOKEN',
    'Content-Type': 'application/json'
  }
});
```

```javascript JavaScript - Public Key Authentication
const response = await fetch('https://api.authiqa.com/auth/organization-details', {
  method: 'GET',
  headers: {
    'X-Public-Key': 'YOUR_PUBLIC_KEY',
    'Content-Type': 'application/json'
  }
});
```

```python Python
import requests

# JWT Authentication
response = requests.get(
    'https://api.authiqa.com/auth/organization-details',
    headers={
        'Authorization': 'Bearer YOUR_JWT_TOKEN',
        'Content-Type': 'application/json'
    }
)

# Public Key Authentication
response = requests.get(
    'https://api.authiqa.com/auth/organization-details',
    headers={
        'X-Public-Key': 'YOUR_PUBLIC_KEY',
        'Content-Type': 'application/json'
    }
)
```
</RequestExample>

## Try It Out

<Note>
Test the API by providing either JWT token or public key:
</Note>

<Card>
  <Tabs>
    <Tab title="JWT Authentication">
      <ParamField header="Authorization" placeholder="Bearer YOUR_JWT_TOKEN">
        JWT token for authentication
      </ParamField>
    </Tab>
    <Tab title="Public Key Authentication">
      <ParamField header="X-Public-Key" placeholder="APK_1234567890abcdef_1234">
        Your public key
      </ParamField>
    </Tab>
  </Tabs>

  <Expandable title="Headers" defaultOpen>
    <ParamField header="Content-Type" value="application/json" />
  </Expandable>

  <Button
    onClick={() => {
      alert('Sending request...');
    }}
  >
    Send Request
  </Button>
</Card>

## Process Flow

<Steps>
  <Step title="Authentication">
    - Try JWT authentication first (if Authorization header present)
    - Fallback to public key authentication (if X-Public-Key header present)
    - Validate authentication credentials
    - Retrieve user by authentication method
  </Step>

  <Step title="Account Resolution">
    - Determine account type (parent/child)
    - For child accounts, fetch parent details
    - Verify account status and permissions
  </Step>

  <Step title="Data Collection">
    - Gather organization details and settings
    - Collect authentication URLs
    - Retrieve Google SSO configuration
    - Prepare credentials for response
  </Step>

  <Step title="Usage Tracking">
    - Increment retrieval counter
    - Update usage statistics (non-blocking)
  </Step>
</Steps>

## Response Fields

<ResponseField name="organizationName" type="string">
Organization display name
</ResponseField>

<ResponseField name="organizationUrl" type="string">
Base URL for the organization
</ResponseField>

<ResponseField name="authUrls" type="object">
Authentication URLs for various flows (signin, signup, verify, etc.)
</ResponseField>

<ResponseField name="domainRestrictionEnabled" type="boolean">
Whether widget is restricted to organization's domain (default: true)
</ResponseField>

<ResponseField name="emailVerificationRequired" type="boolean">
Whether email verification is required for new accounts (default: false)
</ResponseField>

<ResponseField name="googleSsoConfig" type="object">
Google SSO configuration with enabled status and client ID
</ResponseField>

<ResponseField name="credentials" type="object">
Contains publicKey and jwtSecret for API authentication
</ResponseField>

## Response Examples

<ResponseField name="200: Success">
```json
{
  "success": true,
  "data": {
    "message": "Organization details retrieved successfully",
    "organizationName": "Example Corp",
    "organizationUrl": "https://example.com",
    "authUrls": {
      "signin": "https://example.com/signin",
      "signup": "https://example.com/signup",
      "verify": "https://example.com/verify",
      "reset": "https://example.com/reset",
      "update": "https://example.com/update",
      "resend": "https://example.com/resend",
      "successful": "https://example.com/success"
    },
    "domainRestrictionEnabled": true,
    "emailVerificationRequired": false,
    "googleSsoConfig": {
      "enabled": true,
      "clientId": "123456789-abcdefghijklmnop.apps.googleusercontent.com"
    },
    "credentials": {
      "publicKey": "APK_1234567890abcdef_1234",
      "jwtSecret": "your_jwt_secret_key"
    }
  }
}
```
</ResponseField>

<ResponseField name="400: Missing public Key">
```json
{
  "success": false,
  "error": {
    "code": "MISSING_PARENT_PUBLIC_KEY",
    "message": "public key is required"
  }
}
```
</ResponseField>

<ResponseField name="404: User Not Found">
```json
{
  "success": false,
  "error": {
    "code": "USER_NOT_FOUND",
    "message": "User not found"
  }
}
```
</ResponseField>

## Error Codes

### Authentication Errors
<ResponseField name="400 Bad Request">
  - `MISSING_PARENT_PUBLIC_KEY` - public key not provided
  - `INVALID_PARENT_ACCOUNT` - Parent account invalid
</ResponseField>

<ResponseField name="404 Not Found">
  - `USER_NOT_FOUND` - No user found for public key
</ResponseField>

## URL Requirements

<Card title="Required URLs" icon="link">
All authentication URLs must be:
- Accessible via HTTPS
- Under organization's domain
- Properly configured for:
  - Sign in/up flows
  - Email verification
  - Password management
  - Success redirects
</Card>

## Domain Restriction

<Card title="Domain Restriction Setting" icon="shield-check">
The API response includes a `domainRestrictionEnabled` boolean field that indicates whether the authentication widget is restricted to the organization's domain:

- When `true` (default): Widget only works on the organization's domain
- When `false`: Widget works on any domain (for testing purposes)

This setting helps control where the authentication widget can be used, providing security while allowing flexibility for testing.
</Card>
