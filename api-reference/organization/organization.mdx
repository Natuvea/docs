---
title: 'Update Organization'
description: 'Update organization details and authentication URLs for white-labeling'
api: 'POST https://api.authiqa.com/auth/update-organization'
---



## Overview

This endpoint allows parent account holders to customize their organization details and authentication URLs for white-labeling. The endpoint supports five modes of operation:
1. Initial Setup - Set organization name and URL
2. Auth URLs Update - Modify specific authentication URLs
3. Domain Restriction Toggle - Control domain validation for the widget
4. Email Verification Toggle - Control email verification requirements
5. Google SSO Configuration - Manage Google OAuth settings

## API Details

### Request Format
<ParamField header="Authorization" type="string" required placeholder="Bearer YOUR_JWT_TOKEN">
    JWT token for authentication
</ParamField> 

#### Mode 1: Initial Setup
<ParamField body="organizationName" type="string" required>
  Organization name (must start with capital letter, min 4 chars)
</ParamField>

<ParamField body="organizationUrl" type="string" required>
  Base URL for organization (must use HTTPS)
</ParamField>

#### Mode 2: Auth URLs Update
<ParamField body="authUrls" type="object">
  Optional authentication URLs configuration. Only specified URLs will be updated.
</ParamField>

#### Mode 3: Domain Restriction Toggle
<ParamField body="domainRestrictionEnabled" type="boolean">
  Controls whether the authentication widget is restricted to the organization's domain.
  When `true` (default): Widget only works on the organization's domain.
  When `false`: Widget works on any domain (for testing purposes).
</ParamField>

#### Mode 4: Email Verification Toggle
<ParamField body="emailVerificationRequired" type="boolean">
  Controls whether email verification is required for new accounts.
  When `true`: New accounts must verify their email before full access.
  When `false` (default): Email verification is optional.
</ParamField>

#### Mode 5: Google SSO Configuration
<ParamField body="googleSsoConfig" type="object">
  Google OAuth configuration for organization-specific SSO.
</ParamField>

<ParamField body="googleSsoConfig.enabled" type="boolean">
  Enable or disable Google SSO for the organization.
</ParamField>

<ParamField body="googleSsoConfig.clientId" type="string">
  Google OAuth client ID (required when enabling).
</ParamField>

<ParamField body="googleSsoConfig.clientSecret" type="string">
  Google OAuth client secret (required when enabling, encrypted before storage).
</ParamField>

### Default Auth URLs

When setting up the organization (Mode 1), the system automatically generates default auth URLs based on your organization URL:

```json
{
  "signup": "${organizationUrl}/signup.html",
  "signin": "${organizationUrl}/signin.html",
  "verify": "${organizationUrl}/verify.html",
  "reset": "${organizationUrl}/reset.html",
  "update": "${organizationUrl}/update.html",
  "resend": "${organizationUrl}/resend.html",
  "successful": "${organizationUrl}/successful.html"
}
```

<RequestExample>
```bash cURL
curl -X POST https://api.authiqa.com/auth/update-organization \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "organizationName": "Example Organization",
    "organizationUrl": "https://example.com"
  }'
```

```javascript JavaScript
// Mode 1: Initial Setup
const response = await fetch('https://api.authiqa.com/auth/update-organization', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_JWT_TOKEN',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    organizationName: 'Example Organization',
    organizationUrl: 'https://example.com'
  })
});

// Mode 2: Update specific auth URLs
const response = await fetch('https://api.authiqa.com/auth/update-organization', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_JWT_TOKEN',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    authUrls: {
      signin: 'https://auth.example.com/signin',
      signup: 'https://auth.example.com/signup'
    }
  })
});

// Mode 3: Toggle domain restriction
const response = await fetch('https://api.authiqa.com/auth/update-organization', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_JWT_TOKEN',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    domainRestrictionEnabled: false
  })
});

// Mode 4: Toggle email verification requirement
const response = await fetch('https://api.authiqa.com/auth/update-organization', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_JWT_TOKEN',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    emailVerificationRequired: true
  })
});

// Mode 5: Configure Google SSO
const response = await fetch('https://api.authiqa.com/auth/update-organization', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_JWT_TOKEN',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    googleSsoConfig: {
      enabled: true,
      clientId: 'your-google-client-id',
      clientSecret: 'your-google-client-secret'
    }
  })
});
```

```python Python
# Mode 1: Initial Setup
response = requests.post(
    'https://api.authiqa.com/auth/update-organization',
    headers={
        'Authorization': 'Bearer YOUR_JWT_TOKEN',
        'Content-Type': 'application/json'
    },
    json={
        'organizationName': 'Example Organization',
        'organizationUrl': 'https://example.com'
    }
)

# Mode 2: Update specific auth URLs
response = requests.post(
    'https://api.authiqa.com/auth/update-organization',
    headers={
        'Authorization': 'Bearer YOUR_JWT_TOKEN',
        'Content-Type': 'application/json'
    },
    json={
        'authUrls': {
            'signin': 'https://auth.example.com/signin',
            'signup': 'https://auth.example.com/signup'
        }
    }
)
```
</RequestExample>

## Try It Out

<Note>
Select a mode and test the API:
</Note>

<Card>
  <Tabs>
    <Tab title="Mode 1: Initial Setup">
      <ParamField header="Authorization" required placeholder="Bearer YOUR_JWT_TOKEN">
        JWT token for authentication
      </ParamField>

      <ParamField body="organizationName" required placeholder="Example Organization">
        Organization name (must start with capital letter, min 4 chars)
      </ParamField>

      <ParamField body="organizationUrl" required placeholder="https://example.com">
        Base URL for organization (must use HTTPS)
      </ParamField>
    </Tab>

    <Tab title="Mode 2: Auth URLs">
      <ParamField header="Authorization" required placeholder="Bearer YOUR_JWT_TOKEN">
        JWT token for authentication
      </ParamField>

      <Expandable title="Authentication URLs" defaultOpen>
        <ParamField body="authUrls.signup" placeholder="https://auth.example.com/signup">
          Custom signup URL
        </ParamField>

        <ParamField body="authUrls.signin" placeholder="https://auth.example.com/signin">
          Custom signin URL
        </ParamField>

        <ParamField body="authUrls.verify" placeholder="https://auth.example.com/verify">
          Custom verification URL
        </ParamField>

        <ParamField body="authUrls.reset" placeholder="https://auth.example.com/reset">
          Custom password reset URL
        </ParamField>

        <ParamField body="authUrls.update" placeholder="https://auth.example.com/update">
          Custom password update URL
        </ParamField>

        <ParamField body="authUrls.resend" placeholder="https://auth.example.com/resend">
          Custom resend verification URL
        </ParamField>

        <ParamField body="authUrls.successful" placeholder="https://app.example.com/dashboard">
          Custom success redirect URL
        </ParamField>
      </Expandable>
    </Tab>

    <Tab title="Mode 3: Domain Restriction">
      <ParamField header="Authorization" required placeholder="Bearer YOUR_JWT_TOKEN">
        JWT token for authentication
      </ParamField>

      <ParamField body="domainRestrictionEnabled" type="boolean" default="true">
        Toggle domain restriction for the authentication widget
      </ParamField>
    </Tab>

    <Tab title="Mode 4: Email Verification">
      <ParamField header="Authorization" required placeholder="Bearer YOUR_JWT_TOKEN">
        JWT token for authentication
      </ParamField>

      <ParamField body="emailVerificationRequired" type="boolean" default="false">
        Toggle email verification requirement for new accounts
      </ParamField>
    </Tab>

    <Tab title="Mode 5: Google SSO">
      <ParamField header="Authorization" required placeholder="Bearer YOUR_JWT_TOKEN">
        JWT token for authentication
      </ParamField>

      <Expandable title="Google SSO Configuration" defaultOpen>
        <ParamField body="googleSsoConfig.enabled" type="boolean" required>
          Enable or disable Google SSO
        </ParamField>

        <ParamField body="googleSsoConfig.clientId" placeholder="123456789-abcdefghijklmnop.apps.googleusercontent.com">
          Google OAuth client ID (required when enabling)
        </ParamField>

        <ParamField body="googleSsoConfig.clientSecret" placeholder="GOCSPX-your-client-secret">
          Google OAuth client secret (required when enabling)
        </ParamField>
      </Expandable>
    </Tab>
  </Tabs>

  <Expandable title="Headers" defaultOpen>
    <ParamField header="Content-Type" value="application/json" />
  </Expandable>

  <Button
    onClick={() => {
      alert('Sending request...');
    }}
  >
    Send Request
  </Button>
</Card>

## Response Examples

### Mode 1: Initial Setup Response
<ResponseField name="200: Success">
```json
{
  "success": true,
  "data": {
    "message": "Organization details updated successfully",
    "data": {
      "organizationName": "Example Organization",
      "organizationUrl": "https://example.com",
      "authUrls": {
        "signup": "https://example.com/signup.html",
        "signin": "https://example.com/signin.html",
        "verify": "https://example.com/verify.html",
        "reset": "https://example.com/reset.html",
        "update": "https://example.com/update.html",
        "resend": "https://example.com/resend.html",
        "successful": "https://example.com/successful.html"
      }
    }
  }
}
```
</ResponseField>

### Mode 2: Auth URLs Update Response
<ResponseField name="200: Success">
```json
{
  "success": true,
  "data": {
    "message": "Auth URLs updated successfully",
    "data": {
      "authUrls": {
        "signin": "https://auth.example.com/signin",
        "signup": "https://auth.example.com/signup"
      }
    }
  }
}
```
</ResponseField>

### Mode 3: Domain Restriction Toggle Response
<ResponseField name="200: Success">
```json
{
  "success": true,
  "data": {
    "message": "Domain restriction setting updated successfully",
    "data": {
      "domainRestrictionEnabled": false
    }
  }
}
```
</ResponseField>

### Mode 4: Email Verification Toggle Response
<ResponseField name="200: Success">
```json
{
  "success": true,
  "data": {
    "message": "Email verification requirement updated successfully",
    "data": {
      "emailVerificationRequired": true
    }
  }
}
```
</ResponseField>

### Mode 5: Google SSO Configuration Response
<ResponseField name="200: Success">
```json
{
  "success": true,
  "data": {
    "message": "Google SSO config updated successfully",
    "data": {
      "googleSsoConfig": {
        "enabled": true,
        "clientId": "123456789-abcdefghijklmnop.apps.googleusercontent.com",
        "clientSecret": "encrypted_secret_value"
      }
    }
  }
}
```
</ResponseField>

## Error Codes

<ResponseField name="400 Bad Request">
- `INVALID_ORGANIZATION_NAME` - Organization name requirements not met
- `INVALID_ORGANIZATION_URL` - Invalid URL format
- `INVALID_AUTH_URLS` - Authentication URLs invalid/inaccessible
- `MISSING_REQUIRED_URLS` - Not all required URLs provided
- `INVALID_INPUT` - Invalid Google SSO configuration
- `MISSING_REQUIRED_FIELDS` - No valid update parameters provided
</ResponseField>

<ResponseField name="401 Unauthorized">
- `UNAUTHORIZED` - Invalid/missing JWT token
- `UNAUTHORIZED_ACCESS` - Child accounts cannot update organization
</ResponseField>

<ResponseField name="404 Not Found">
- `USER_NOT_FOUND` - User account not found
</ResponseField>

<ResponseField name="500 Internal Server Error">
- `INTERNAL_ERROR` - Unexpected server error occurred
</ResponseField>

## Validation Rules

<CardGroup cols={2}>
  <Card title="Organization Name" icon="building">
    - Minimum 4 characters
    - Must start with capital letter
    - Cannot be null or empty
  </Card>
  <Card title="URLs" icon="link">
    - Valid URL format
    - Must use HTTPS
    - Auth URLs must be under organization domain
    - Organization URL must be set before updating auth URLs
  </Card>
</CardGroup>

## Advanced Features

<CardGroup cols={2}>
  <Card title="Domain Restriction" icon="shield-alt">
    **Control Widget Access**
    - Enabled (Default): Widget only works on your domain
    - Disabled: Widget works on any domain (testing)
    - Independent toggle without affecting other settings
  </Card>
  <Card title="Email Verification" icon="envelope-check">
    **Manage Account Security**
    - Disabled (Default): Optional email verification
    - Enabled: Required email verification for new accounts
    - Applies to all child accounts under organization
  </Card>
</CardGroup>

<Card title="Google SSO Configuration" icon="google">
**Organization-Specific OAuth**
- Configure your own Google OAuth credentials
- Custom branding and domain restrictions
- Encrypted client secret storage
- Toggle-able enable/disable functionality
- Supports both credential updates and enable/disable operations
</Card>

## Important Notes

<Note>
- Organization details can be updated multiple times
- Auth URLs can be updated individually without affecting other URLs
- Default auth URLs are automatically generated during initial setup
- Auth URLs must match the organization's domain
- Domain restriction is enabled by default for security but can be disabled for testing
- Email verification is disabled by default but can be enabled for enhanced security
- Google SSO client secrets are encrypted before storage
- Google SSO can be toggled without losing stored credentials
</Note>

## Google SSO Setup Requirements

<Steps>
  <Step title="Google Cloud Console">
    - Create OAuth 2.0 credentials
    - Configure authorized domains
    - Set up consent screen
  </Step>
  
  <Step title="Authiqa Configuration">
    - Use this API to configure client ID and secret
    - Enable Google SSO for your organization
    - Test authentication flow
  </Step>
  
  <Step title="Widget Integration">
    - Google sign-in button appears automatically
    - Uses your organization's OAuth credentials
    - Maintains your branding and domain restrictions
  </Step>
</Steps>
